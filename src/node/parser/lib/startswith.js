var col=require("./collections.js"),digits="0123456789";exports.startsWith=function(t,s,n,i,r){var e=!1,l=s,a=0,g=!1,u="",o=!1,c=!1,h=!1,b="",f="",v="",p=!1,d=t;for(d.length&&d.length>1&&(t=d[0]);l.length>0&&!g;){var m=l[0];m!=t||h||o||c?col.contains(digits,m)&&!o&&!c&&(1==a||a>1&&r)?(u+=m,l=l.substring(1)):"@"==m&&!o&&a>0?(o=!0,c=!1,l=l.substring(1)):"@"==m&&o&&0===b.length&&!p?(p=!0,l=l.substring(1)):"@"==m&&o?(o=!1,l=l.substring(1)):"?"==m&&!c&&a>0?(c=!0,o=!1,l=l.substring(1)):"?"==m&&c?(c=!1,l=l.substring(1)):"$"==m&&!h&&a>0?(h=!0,l=l.substring(1)):"$"==m&&h?(h=!1,l=l.substring(1)):o&&" "!=m&&"?"!=m?(b+=m,l=l.substring(1)):c&&" "!=m&&"@"!=m?(f+=m,l=l.substring(1)):h&&" "!=m&&"$"!=m?(v+=m,l=l.substring(1)):a>0?g=!0:(e=!1,g=!0):(a++,d.length&&d.length>1&&a<=d.length?(t=d[a],e=!0):e=!0,l=l.substring(1))}if(u.length>0&&!r&&(a=parseInt(u)),i||(l=l.trim()),n&&a!=n)return{startsWith:!1,remainingLine:s};if(b&&p){var y=b.split("&"),W=[];col.each(y,function(t,s){if(-1!=s.indexOf("-")){var n=s.split("-"),i=n[0];col.contains(W,i)||col.contains(y,i)||W.push(i)}});var $="",x=0;col.each(W,function(t,s){$=$+(x>0?"&":"")+s,x++}),$.length>0&&(b=$+"&"+b)}var C;if(v&&v.length>0){C=[];var L=v.split("&");col.each(L,function(t,s){var n=s.split("="),i="",r="";1==n.length?(i="id",r=n[0]):(i=n[0],r=n[1]),C.push({key:i,value:r})})}return{id:f,classes:b,dataPairs:C,startsWith:e,symbol:t,symbolCount:a,remainingLine:l,numberCapture:u}};